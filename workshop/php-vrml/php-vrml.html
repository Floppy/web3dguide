<!DOCTYPE html PUBLIC "-//IETF//DTD HTML 2.0//EN">
<HTML>
<HEAD>
<TITLE>Floppy's Web3D Guide - php-vrml.php</TITLE>
<META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
</HEAD>
<BODY BGCOLOR='#DDDDDD' TEXT='#000000' LINK='#ff0000' ALINK='#ffff00' VLINK='#DD0000'>
<A NAME="top">
<A NAME="file1">
<H1>php-vrml.php</H1>

<PRE>
&lt;?php
   header (<FONT COLOR="#BC8F8F"><B>&quot;Content-type: model/vrml&quot;</FONT></B>);
   echo <FONT COLOR="#BC8F8F"><B>&quot;#VRML V2.0 utf8\n&quot;</FONT></B>;

   // Calculate length
   $length = $xdim * $zdim;

   // Seed random number generator
   mt_srand ((float) microtime() * 1000000);

   // Generate random data
   $heights = array();
   for ($i=0; $i&lt;$length; $i++) {
      $heights[$i] = mt_rand(0,256) / 256;
   }

?&gt;

<FONT COLOR="#DA70D6"><B>Viewpoint</FONT></B> {
   position 0 2 10
}

<FONT COLOR="#DA70D6"><B>Transform</FONT></B> {
&lt;?php
   $xtranslation = -$xdim * $xspc / 2;
   $ztranslation = -$zdim * $zspc / 2;
   echo <FONT COLOR="#BC8F8F"><B>&quot;   translation $xtranslation 0 $ztranslation \n&quot;</FONT></B>;
?&gt;
   scale 1 0.25 1
   children [
      <FONT COLOR="#DA70D6"><B>Shape</FONT></B> {
         geometry <FONT COLOR="#DA70D6"><B>ElevationGrid</FONT></B> {
            solid <B><FONT COLOR="#A020F0">FALSE</FONT></B>            
&lt;?php
   echo <FONT COLOR="#BC8F8F"><B>&quot;            xSpacing $xspc\n&quot;</FONT></B>;
   echo <FONT COLOR="#BC8F8F"><B>&quot;            zSpacing $zspc\n&quot;</FONT></B>;
   echo <FONT COLOR="#BC8F8F"><B>&quot;            xDimension $xdim\n&quot;</FONT></B>;
   echo <FONT COLOR="#BC8F8F"><B>&quot;            zDimension $zdim\n&quot;</FONT></B>;

   // Heights
   echo <FONT COLOR="#BC8F8F"><B>&quot;            height [\n&quot;</FONT></B>;
   for ($i=0; $i&lt;$length; $i++) {
      echo <FONT COLOR="#BC8F8F"><B>&quot;               $heights[$i],\n&quot;</FONT></B>;
   }
   echo <FONT COLOR="#BC8F8F"><B>&quot;            ]\n&quot;</FONT></B>;
   
   // Colours
   echo <FONT COLOR="#BC8F8F"><B>&quot;            color Color {\n&quot;</FONT></B>;
   echo <FONT COLOR="#BC8F8F"><B>&quot;               color [\n&quot;</FONT></B>;
   for ($i=0; $i&lt;$length; $i++) {
      echo <FONT COLOR="#BC8F8F"><B>&quot;                  1 $heights[$i] 0,\n&quot;</FONT></B>;
   }
   echo <FONT COLOR="#BC8F8F"><B>&quot;               ]\n&quot;</FONT></B>;
   echo <FONT COLOR="#BC8F8F"><B>&quot;            }\n&quot;</FONT></B>;

?&gt;
         }
      }
   ]
}
</PRE>
<P><ADDRESS>Generated by <A HREF="http://people.ssh.fi/mtr/genscript/">GNU enscript 1.6.1</A>.</ADDRESS>
</p>
<SCRIPT TYPE="text/javascript" LANGUAGE="JavaScript" SRC="/utils/footer.js"></SCRIPT>
<SCRIPT TYPE="text/javascript">
footer('/pics/menu_lit/workshop.gif','Workshop','./');
</SCRIPT>
</BODY>
</HTML>
